name: lidarr
include:
  - common/docker-compose.volumes.yml
services:
  lidarr:
    image: lscr.io/linuxserver/lidarr:3.0.1.4866-ls10@sha256:1d49ebdfaae525d9e1e4ad5b7fa1753e364da44ac1b5e6acae241a2173ac09a4
    container_name: lidarr
    volumes:
      - ${DATA_DIR}/lidarr:/config
      - music:/music
      - ${DATA_DIR}/lidarr/downloads:/downloads
      - ${LOG_DIR}/lidarr:/config/logs
    environment:
      - PUID
      - PGID
      - TZ
    networks:
      - lidarr-web
    restart: unless-stopped
    labels:
      readme.description: Music Collection Manager.
      readme.links.github: https://github.com/Lidarr/Lidarr
      traefik.docker.network: arr-web
      traefik.enable: true
      traefik.http.routers.lidarr.entrypoints: https
      traefik.http.routers.lidarr.middlewares: authentik
      traefik.http.routers.lidarr.rule: Host(`lidarr.${HOST}`)
      traefik.http.services.lidarr.loadbalancer.server.port: 8686
      glance.name: Lidarr
      glance.icon: di:lidarr
      glance.url: https://lidarr.${HOST}
      glance.description: Music Collection Manager
      glance.category: music
networks:
  lidarr-web:
    name: lidarr-web
